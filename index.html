<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Tiwut</title>
    
    <meta name="description" content="Explore a collection of tools, guides, apps, and more on the Tiwut hub.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tiwut.de/">
    <meta property="og:title" content="Welcome to Tiwut">
    <meta property="og:description" content="Explore a collection of tools, guides, apps, and more on the Tiwut hub.">
    <meta property="og:image" content="https://tiwut.de/main.avif">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tiwut.de/">
    <meta property="twitter:title" content="Welcome to Tiwut">
    <meta property="twitter:description" content="Explore a collection of tools, guides, apps, and more on the Tiwut hub.">
    <meta property="twitter:image" content="https://tiwut.de/main.avif">
    
    <link rel="icon" href="icon.ico" type="image/ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>

    <script>
        if (location.protocol === 'http:') {
            location.replace(location.href.replace('http://', 'https://'));
        }
    </script>
    <style>
        :root {
            --primary-neon: #00e5ff;
            --secondary-neon: #ff00c1;
            --accent-neon: #faff00;
            --background-color: #01010c;
            --text-color: #e0e0e0;
            --text-color-dark: #a0a0a0;
            --container-bg: rgba(10, 20, 35, 0.5);
            --glow-color: rgba(0, 229, 255, 0.5);
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 15px 5px var(--glow-color), inset 0 0 10px 2px var(--glow-color); } 50% { box-shadow: 0 0 25px 10px var(--glow-color), inset 0 0 15px 4px var(--glow-color); } }
        @keyframes text-glow { 0%, 100% { text-shadow: 0 0 4px #fff, 0 0 10px var(--primary-neon), 0 0 18px var(--primary-neon); } 50% { text-shadow: 0 0 6px #fff, 0 0 14px var(--primary-neon), 0 0 22px var(--primary-neon); } }
        @keyframes shockwave { 0% { transform: scale(0); opacity: 0.7; } 100% { transform: scale(2.5); opacity: 0; } }
        @keyframes floatAnimation { 0% { transform: translate(0, 0) rotate(0deg); } 25% { transform: translate(4px, -6px) rotate(1deg); } 50% { transform: translate(-3px, 0px) rotate(-1deg); } 75% { transform: translate(2px, 4px) rotate(0.5deg); } 100% { transform: translate(0, 0) rotate(0deg); } }
        @keyframes pageEntryAnimation { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes pageExitAnimation { to { transform: scale(0.9); opacity: 0; } }
        
        body {
            font-family: 'Poppins', 'Segoe UI', sans-serif; margin: 0; padding: 0;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; text-align: center; position: relative; overflow-x: hidden;
            background-color: var(--background-color); color: var(--text-color);
        }

        .background-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; transition: filter 0.5s ease; }
        .background-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto; transform: translateX(-50%) translateY(-50%); z-index: 1; object-fit: cover; }
        
        #content-layout {
            position: relative; z-index: 10; display: flex; flex-direction: column; align-items: center; justify-content: center;
            gap: 2rem; width: 100%; padding: 2rem; box-sizing: border-box;
            transition: transform 0.2s cubic-bezier(0.23, 1, 0.32, 1), filter 0.5s ease;
            animation: pageEntryAnimation 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000) forwards;
        }
        #content-layout.page-exit { animation: pageExitAnimation 0.5s cubic-bezier(0.470, 0.000, 0.745, 0.715) forwards; }
        
        .hud-panel {
            background-color: var(--container-bg); border: 2px solid var(--primary-neon);
            backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
            clip-path: polygon(0 25px, 25px 0, 100% 0, 100% calc(100% - 25px), calc(100% - 25px) 100%, 0 100%);
            box-shadow: 0 0 15px 5px rgba(0,0,0,0.5), 0 0 10px 2px var(--glow-color);
            padding: 2.5rem; width: 90%; box-sizing: border-box;
        }
        .hud-panel:hover { box-shadow: 0 0 25px 8px rgba(0,0,0,0.5), 0 0 20px 5px var(--glow-color); }
        
        #main-hub { max-width: 600px; }
        #link-grid { max-width: 700px; }

        h1 { font-family: 'Orbitron', sans-serif; font-size: 3.5rem; font-weight: 800; margin: 0 0 2.5rem 0; letter-spacing: 2px; color: #fff; animation: text-glow 2.5s ease-in-out infinite; }
        #link-grid h2 { color: var(--text-color); font-weight: 400; margin: 0 0 2rem 0; }
        #visitorCounter { color: var(--text-color-dark); font-size: 1.1rem; margin-top: 2.5rem; margin-bottom: 0; display: inline-flex; align-items: center; gap: 0.7rem; font-weight: 600; }
        #visitCount { color: var(--accent-neon); }

        .button-wrapper { display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap; margin-top: 0; }
        
        .action-button {
            position: relative; color: var(--text-color); background: transparent;
            border: 2px solid var(--primary-neon); padding: 1rem 2.2rem; font-size: 1.1rem;
            cursor: pointer; transition: all 0.3s ease;
            font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: 0.7rem;
            text-shadow: 0 0 5px rgba(0, 229, 255, 0.5);
            box-shadow: inset 0 0 8px 0 rgba(0, 229, 255, 0.3);
            clip-path: polygon(0 10px, 10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%);
            animation: floatAnimation 12s ease-in-out infinite;
        }
        .action-button::after {
            content: ''; position: absolute; top: 50%; left: 50%; width: 100%; padding-top: 100%;
            border-radius: 50%; background-color: var(--secondary-neon);
            transform: translate(-50%, -50%) scale(0); opacity: 0;
            pointer-events: none;
        }
        .action-button:active::after { animation: shockwave 0.5s ease-out; }
        .action-button:hover, .action-button:focus {
            background-color: var(--glow-color); color: #fff; border-color: var(--accent-neon);
            box-shadow: 0 0 20px 5px var(--glow-color), inset 0 0 15px 2px var(--glow-color);
            text-shadow: 0 0 8px var(--accent-neon);
            transform: translateY(-5px) scale(1.03);
            animation-play-state: paused;
        }

        .button-wrapper .action-button:nth-child(1) { animation-duration: 11s; animation-delay: -2s; }
        .button-wrapper .action-button:nth-child(2) { animation-duration: 13s; animation-delay: -4s; }
        .button-wrapper .action-button:nth-child(3) { animation-duration: 12.5s; animation-delay: -1s; }
        .button-wrapper .action-button:nth-child(4) { animation-duration: 14s; animation-delay: -5s; }
        .button-wrapper .action-button:nth-child(5) { animation-duration: 11.5s; animation-delay: -3s; }
        .button-wrapper .action-button:nth-child(6) { animation-duration: 13.5s; animation-delay: -6s; }
        .button-wrapper .action-button:nth-child(7) { animation-duration: 12s; animation-delay: 0s; }
        .button-wrapper .action-button:nth-child(8) { animation-duration: 14.5s; animation-delay: -2.5s; }
        .button-wrapper .action-button:nth-child(9) { animation-duration: 11.8s; animation-delay: -4.5s; }
        
        .content-blurred #content-layout, .content-blurred .background-wrapper { filter: blur(8px) brightness(0.5); pointer-events: none; }
        .warning-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.4s ease, visibility 0.4s; backdrop-filter: blur(5px); }
        .warning-overlay.active { opacity: 1; visibility: visible; }
        .warning-modal {
            color: var(--text-color); padding: 2.5rem 2rem; background-color: var(--container-bg);
            border: 2px solid var(--secondary-neon); box-shadow: 0 0 25px 5px rgba(255, 0, 193, 0.3);
            clip-path: polygon(0 25px, 25px 0, 100% 0, 100% calc(100% - 25px), calc(100% - 25px) 100%, 0 100%);
            text-align: center; max-width: 500px; width: 90%;
            transform: scale(0.9) translateY(20px); opacity: 0;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease-out;
        }
        .warning-overlay.active .warning-modal { transform: scale(1) translateY(0); opacity: 1; }
        .warning-modal h2 { font-family: 'Orbitron', sans-serif; color: var(--secondary-neon); text-shadow: 0 0 10px var(--secondary-neon); margin: 0 0 1.5rem 0; font-size: 1.8rem; }
        .warning-modal p { color: #ddd; margin-bottom: 2.5rem; font-size: 1.1rem; line-height: 1.7; }
        .warning-modal .action-button { border-color: var(--secondary-neon); text-shadow: 0 0 5px var(--secondary-neon); box-shadow: inset 0 0 8px 0 rgba(255, 0, 193, 0.3); }
        .warning-modal .action-button:hover { border-color: var(--accent-neon); }
        #privacyOverlay .warning-modal { border-color: var(--primary-neon); box-shadow: 0 0 25px 5px var(--glow-color); }
        #privacyOverlay .warning-modal h2 { color: var(--primary-neon); text-shadow: 0 0 10px var(--primary-neon); }
        #privacyOverlay .warning-modal .action-button { border-color: var(--primary-neon); text-shadow: 0 0 5px var(--primary-neon); box-shadow: inset 0 0 8px 0 rgba(0, 229, 255, 0.3); }

        #reopenWarningsButton {
            position: fixed; bottom: 15px; right: 15px; z-index: 999;
            background-color: var(--container-bg); color: var(--text-color-dark);
            border: 1px solid var(--primary-neon); width: 40px; height: 40px; border-radius: 50%;
            font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: all 0.3s ease; box-shadow: 0 0 10px 2px rgba(0,0,0,0.5), inset 0 0 5px 1px rgba(0, 229, 255, 0.2);
            opacity: 1;
        }
        #reopenWarningsButton:hover { color: var(--primary-neon); transform: scale(1.1); box-shadow: 0 0 15px 3px var(--glow-color); }
        body.content-blurred ~ #reopenWarningsButton { opacity: 0; pointer-events: none; }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; letter-spacing: 1px; }
            #link-grid h2 { font-size: 1.1rem; }
            .hud-panel { padding: 2rem; }
            .button-wrapper { gap: 1.2rem; }
            .action-button { padding: 0.9rem 1.8rem; font-size: 1rem; }
        }
        @media (max-width: 480px) {
            h1 { font-size: 2rem; }
            #content-layout { gap: 1rem; padding: 1rem; }
            .hud-panel { padding: 2rem 1rem; }
            .button-wrapper { flex-direction: column; gap: 1rem; width: 100%; align-items: center; }
            .action-button { width: 90%; max-width: 400px; box-sizing: border-box; padding: 1rem; }
        }
    </style>
</head>
<body>
    <div class="background-wrapper">
        <video autoplay loop muted playsinline class="background-video">
            <source src="main.webm" type="video/webm">
            <source src="main.mp4" type="video/mp4">
        </video>
    </div>

    <div id="content-layout">
        <div class="hud-panel" id="main-hub">
            <h1 id="mainTitle"></h1>
            <div class="button-wrapper">
                 <a href="#" id="enterButton" class="action-button"></a>
            </div>
            <div id="visitorCounter">
                <i class="fa-solid fa-users"></i>
                <span id="counterLabel"></span>
                <span id="visitCount">...</span>
            </div>
        </div>
        
        <div class="hud-panel" id="link-grid">
            <h2 id="publisherInfo"></h2>
            <div class="button-wrapper">
                <a href="/Tools/" class="action-button"><i class="fa-solid fa-screwdriver-wrench"></i>Tools</a>
                <a href="https://tiwut.de/Tiwut-Chat/" id="chatButton" class="action-button"></a>
                <a href="/NEWS/" class="action-button"><i class="fa-solid fa-newspaper"></i>NEWS</a>
                <a href="/AppStore/" class="action-button"><i class="fa-solid fa-store"></i>AppStore</a>
                <a href="/Guides/" class="action-button"><i class="fa-solid fa-book-open"></i>Guides</a>
                <a href="https://tiwut.de/Learning/" id="learningButton" class="action-button"></a> 
                <a href="https://tiwut.de/Gallery/" class="action-button"><i class="fa-solid fa-images"></i>Gallery</a>
                <a href="https://github.com/tiwut" id="githubButton" class="action-button"></a>
                <a href="https://tiwut.de/Search/" id="searchButton" class="action-button"></a>
            </div>
        </div>
    </div>

    <div class="warning-overlay" id="warningOverlay">
        <div class="warning-modal">
            <h2 id="warningTitle"></h2>
            <p id="warningText"></p>
            <button id="acceptWarningButton" class="action-button"></button> 
        </div>
    </div>
    
    <div class="warning-overlay" id="privacyOverlay">
        <div class="warning-modal">
            <h2 id="privacyTitle"></h2>
            <p id="privacyText"></p>
            <button id="acceptPrivacyButton" class="action-button"></button> 
        </div>
    </div>

    <button id="reopenWarningsButton"><i class="fa-solid fa-circle-info"></i></button>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const body = document.body;
        const contentLayout = document.getElementById('content-layout');
        const elements = {
            mainTitle: document.getElementById('mainTitle'),
            enterButton: document.getElementById('enterButton'),
            publisherInfo: document.getElementById('publisherInfo'),
            searchButton: document.getElementById('searchButton'),
            githubButton: document.getElementById('githubButton'),
            learningButton: document.getElementById('learningButton'),
            chatButton: document.getElementById('chatButton'),
            counterLabel: document.getElementById('counterLabel'),
            visitCount: document.getElementById('visitCount'),
            warningOverlay: document.getElementById('warningOverlay'),
            acceptWarningButton: document.getElementById('acceptWarningButton'),
            warningTitle: document.getElementById('warningTitle'),
            warningText: document.getElementById('warningText'),
            privacyOverlay: document.getElementById('privacyOverlay'),
            acceptPrivacyButton: document.getElementById('acceptPrivacyButton'),
            privacyTitle: document.getElementById('privacyTitle'),
            privacyText: document.getElementById('privacyText'),
            reopenWarningsButton: document.getElementById('reopenWarningsButton')
        };
        
        const firebaseConfig = {
            apiKey: "AIzaSyAAggRe6Iq8m10rP1TFAdBy58Ju-A7wjdc",
            authDomain: "count-tiwut.firebaseapp.com",
            projectId: "count-tiwut",
            storageBucket: "count-tiwut.firebasestorage.app",
            messagingSenderId: "54794946558",
            appId: "1:54794946558:web:4f663c09d05ff1fa8862af"
        };

        const translations = {
            en: { pageTitle: "Welcome to Tiwut", mainTitle: "Welcome to Tiwut", enterButton: "Tiwut-Advanced", publisherInfo: "Published by Tiwut", counterLabel: "Visitors: ", modalTitle: "Important Notice", modalText: "This website is intended for private and family purposes only!!!<br>By accepting, you confirm this.", modalButton: "Accept and Continue", privacyTitle: "Privacy & Data Notice", privacyText: "This site uses external services (Google Fonts, Google Firebase) which may process your IP address for functional purposes, like our anonymous visitor counter. We also use local storage to save your consent. By accepting, you agree to this necessary data processing.", privacyButton: "I Understand and Accept", searchButton: "Search", githubButton: "GitHub", learningButton: "Learning", chatButton: "Chat", reopenButtonTitle: "Review Notices" }, 
            de: { pageTitle: "Willkommen bei Tiwut", mainTitle: "Willkommen bei Tiwut", enterButton: "Tiwut-Advanced", publisherInfo: "Veröffentlicht von Tiwut", counterLabel: "Besucher: ", modalTitle: "Wichtiger Hinweis", modalText: "Diese Webseite ist ausschließlich für private und familiäre Zwecke bestimmt!!!<br>Mit der Annahme bestätigen Sie dies.", modalButton: "Akzeptieren und Fortfahren", privacyTitle: "Datenschutzhinweis", privacyText: "Diese Seite nutzt externe Dienste (Google Fonts, Google Firebase), die Ihre IP-Adresse für funktionale Zwecke, wie unseren anonymen Besucherzähler, verarbeiten können. Wir nutzen auch den lokalen Speicher, um Ihre Zustimmung zu speichern. Mit der Annahme stimmen Sie dieser notwendigen Datenverarbeitung zu.", privacyButton: "Ich verstehe und akzeptiere", searchButton: "Suche", githubButton: "GitHub", learningButton: "Lernen", chatButton: "Chat", reopenButtonTitle: "Hinweise erneut anzeigen" }, 
            es: { pageTitle: "Bienvenido a Tiwut", mainTitle: "Bienvenido a Tiwut", enterButton: "Tiwut-Advanced", publisherInfo: "Publicado por Tiwut", counterLabel: "Visitantes: ", modalTitle: "Aviso Importante", modalText: "¡¡¡Este sitio web está destinado exclusivamente a fines privados y familiares!!!<br>Al aceptar, usted confirma esto.", modalButton: "Aceptar y Continuar", privacyTitle: "Aviso de Privacidad y Datos", privacyText: "Este sitio utiliza servicios externos (Google Fonts, Google Firebase) que pueden procesar su dirección IP para fines funcionales, como nuestro contador de visitas anónimo. También utilizamos el almacenamiento local para guardar su consentimiento. Al aceptar, usted aprueba este tratamiento de datos necesario.", privacyButton: "Entiendo y Acepto", searchButton: "Buscar", githubButton: "GitHub", learningButton: "Aprender", chatButton: "Chat", reopenButtonTitle: "Revisar Avisos" } 
        };

        let db;
        let visitorCountUpdated = false;
        async function updateVisitorCount() {
            if (visitorCountUpdated) return;
            visitorCountUpdated = true;
            try {
                const counterRef = db.collection('counters').doc('mainPage');
                await db.runTransaction(async (transaction) => {
                    const doc = await transaction.get(counterRef);
                    const newCount = doc.exists ? doc.data().count + 1 : 1;
                    transaction.set(counterRef, { count: newCount }, { merge: true });
                });
                const finalDoc = await counterRef.get();
                if (finalDoc.exists) {
                    elements.visitCount.textContent = finalDoc.data().count.toLocaleString();
                }
            } catch (error) {
                console.error("Firebase Fehler: ", error);
                elements.visitCount.textContent = "N/A";
            }
        }

        function showWarning(overlay) {
            body.classList.add('content-blurred');
            overlay.classList.add('active');
            body.style.overflow = 'hidden';
        }

        function hideAllWarnings() {
            elements.privacyOverlay.classList.remove('active');
            elements.warningOverlay.classList.remove('active');
            setTimeout(() => {
                body.classList.remove('content-blurred');
                body.style.overflow = 'auto';
            }, 400);
        }

        function applyTranslations(lang) {
            const t = translations[lang];
            document.title = t.pageTitle;
            elements.mainTitle.textContent = t.mainTitle;
            elements.enterButton.textContent = t.enterButton;
            elements.enterButton.href = 'https://tiwut.de/Tiwut-Advanced/';
            elements.publisherInfo.textContent = t.publisherInfo;
            elements.searchButton.innerHTML = `<i class="fa-solid fa-magnifying-glass"></i> ${t.searchButton}`;
            elements.githubButton.innerHTML = `<i class="fa-brands fa-github"></i> ${t.githubButton}`;
            elements.learningButton.innerHTML = `<i class="fa-solid fa-graduation-cap"></i> ${t.learningButton}`;
            elements.chatButton.innerHTML = `<i class="fa-solid fa-comments"></i> ${t.chatButton}`;
            elements.counterLabel.textContent = t.counterLabel;
            elements.warningTitle.innerHTML = t.modalTitle;
            elements.warningText.innerHTML = t.modalText;
            elements.acceptWarningButton.textContent = t.modalButton;
            elements.privacyTitle.innerHTML = t.privacyTitle;
            elements.privacyText.innerHTML = t.privacyText;
            elements.acceptPrivacyButton.textContent = t.privacyButton;
            elements.reopenWarningsButton.title = t.reopenButtonTitle;
        }

        function initInteractions() {
            if (window.matchMedia("(pointer: fine)").matches) {
                body.style.perspective = '1500px';
                document.addEventListener('mousemove', e => {
                    if (!contentLayout.classList.contains('page-exit')) {
                        const x = (e.clientX / window.innerWidth) - 0.5;
                        const y = (e.clientY / window.innerHeight) - 0.5;
                        contentLayout.style.transform = `rotateY(calc(${x} * 8deg)) rotateX(calc(${y} * -8deg))`;
                    }
                });
            }
            document.querySelectorAll('#content-layout .action-button').forEach(button => {
                button.addEventListener('click', function(event) {
                    const destination = this.href;
                    if (destination && !destination.endsWith('#')) {
                        event.preventDefault();
                        contentLayout.classList.add('page-exit');
                        setTimeout(() => window.location.href = destination, 500);
                    }
                });
            });
            window.addEventListener('pageshow', event => {
                if (event.persisted) contentLayout.classList.remove('page-exit');
            });
        }

        function init() {
            firebase.initializeApp(firebaseConfig);
            db = firebase.firestore();

            const userLang = (navigator.language || navigator.userLanguage || 'en').slice(0, 2);
            const langCode = translations[userLang] ? userLang : 'en';
            applyTranslations(langCode);
            
            const warningAccepted = localStorage.getItem('tiwutWarningAccepted');
            const privacyAccepted = localStorage.getItem('tiwutPrivacyAccepted');

            if (warningAccepted !== 'true') {
                showWarning(elements.warningOverlay);
            } else if (privacyAccepted !== 'true') {
                showWarning(elements.privacyOverlay);
            } else {
                updateVisitorCount();
            }

            elements.acceptWarningButton.addEventListener('click', () => {
                localStorage.setItem('tiwutWarningAccepted', 'true');
                elements.warningOverlay.classList.remove('active');
                setTimeout(() => showWarning(elements.privacyOverlay), 100); 
            });

            elements.acceptPrivacyButton.addEventListener('click', () => {
                localStorage.setItem('tiwutPrivacyAccepted', 'true');
                hideAllWarnings();
                updateVisitorCount();
            });

            elements.reopenWarningsButton.addEventListener('click', () => {
                showWarning(elements.warningOverlay);
            });
            
            initInteractions();
        }

        init();
    });
    </script>
</body>
</html>