<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIY Smart Home Guide</title>
    <style>
        :root {
            --bg-color: #f4f7f9;
            --text-color: #1a202c;
            --card-bg: #ffffff;
            --accent-color: #3498db;
            --accent-color-hover: #2980b9;
            --border-color: #e2e8f0;
            --code-bg: #e2e8f0;
            --svg-stroke: #4a5568;
            --svg-fill: #e2e8f0;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #1a202c;
                --text-color: #e2e8f0;
                --card-bg: #2d3748;
                --accent-color: #4299e1;
                --accent-color-hover: #63b3ed;
                --border-color: #4a5568;
                --code-bg: #1e2533;
                --svg-stroke: #a0aec0;
                --svg-fill: #4a5568;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            margin-bottom: 2rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logo svg {
            width: 32px;
            height: 32px;
            fill: var(--accent-color);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1rem;
            align-items: center;
        }
        
        .lang-switcher button {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-color);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        
        .lang-switcher button:hover {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        
        .lang-switcher button.active {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
            font-weight: bold;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 1001;
        }
        
        .menu-toggle .hamburger {
            width: 28px;
            height: 3px;
            background-color: var(--text-color);
            display: block;
            position: relative;
            transition: all 0.3s ease-in-out;
        }
        
        .menu-toggle .hamburger::before,
        .menu-toggle .hamburger::after {
            content: '';
            position: absolute;
            width: 28px;
            height: 3px;
            background-color: var(--text-color);
            transition: all 0.3s ease-in-out;
        }

        .menu-toggle .hamburger::before {
            transform: translateY(-8px);
        }
        
        .menu-toggle .hamburger::after {
            transform: translateY(8px);
        }
        
        .nav-active .menu-toggle .hamburger {
            background-color: transparent;
        }
        
        .nav-active .menu-toggle .hamburger::before {
            transform: rotate(45deg);
        }

        .nav-active .menu-toggle .hamburger::after {
            transform: rotate(-45deg);
        }

        .guide-section {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: background-color 0.3s ease, border-color 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.6s forwards;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .guide-section:nth-child(1) { animation-delay: 0.1s; }
        .guide-section:nth-child(2) { animation-delay: 0.2s; }
        .guide-section:nth-child(3) { animation-delay: 0.3s; }
        .guide-section:nth-child(4) { animation-delay: 0.4s; }
        .guide-section:nth-child(5) { animation-delay: 0.5s; }
        .guide-section:nth-child(6) { animation-delay: 0.6s; }


        h1, h2 {
            color: var(--text-color);
            margin-bottom: 1rem;
        }
        
        h1 {
            font-size: 2.5rem;
            line-height: 1.2;
            text-align: center;
        }

        h2 {
            font-size: 1.75rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .intro p {
            font-size: 1.1rem;
            color: var(--text-color);
            opacity: 0.9;
            text-align: center;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: center;
        }

        .text-content ul {
            list-style: none;
            padding-left: 0;
        }
        
        .text-content li {
            background-color: var(--bg-color);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            border-left: 4px solid var(--accent-color);
        }

        .sketch-container {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--bg-color);
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid var(--border-color);
        }
        
        .sketch-container svg {
            max-width: 100%;
            height: auto;
            stroke: var(--svg-stroke);
            fill: var(--svg-fill);
            stroke-width: 1.5;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        
        .sketch-container .label {
            font-size: 14px;
            fill: var(--text-color);
            stroke: none;
            font-family: monospace;
        }

        code {
            background-color: var(--code-bg);
            color: var(--text-color);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: "Fira Code", "Courier New", monospace;
        }

        pre {
            background-color: var(--code-bg);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin-top: 1rem;
        }
        
        pre code {
            padding: 0;
            background: none;
        }

        footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--text-color);
            opacity: 0.7;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }

            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .sketch-container {
                order: -1;
            }
            
            .menu-toggle {
                display: block;
            }
            
            nav {
                position: fixed;
                top: 0;
                right: 0;
                width: 70%;
                height: 100vh;
                background-color: var(--card-bg);
                flex-direction: column;
                justify-content: center;
                align-items: center;
                transform: translateX(100%);
                transition: transform 0.3s ease-in-out;
                z-index: 1000;
                box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            }
            
            .nav-active nav {
                transform: translateX(0);
            }
            
            nav ul {
                flex-direction: column;
                gap: 2rem;
            }
        }
    </style>
</head>
<body id="body">
    
    <header class="container">
        <div class="logo" data-translate-key="logo_text">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L1 21h22L12 2zm-1.41 15.59L6.17 13l-1.59 1.59L10.59 19 19.59 10l-1.59-1.59L10.59 15.41z"></path></svg>
            DIY Smart Home
        </div>
        <button class="menu-toggle" aria-label="Toggle Menu">
            <span class="hamburger"></span>
        </button>
        <nav>
            <ul>
                <li class="lang-switcher">
                    <button data-lang="de">DE</button>
                    <button data-lang="en">EN</button>
                    <button data-lang="es">ES</button>
                </li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <section class="guide-section intro">
            <h1 data-translate-key="main_title">Smart-Home-Lösungen selbst bauen</h1>
            <p data-translate-key="main_subtitle">Ein einfacher Guide, um mit ESP32 und ESP8266 deine eigenen smarten Geräte zu erstellen. Keine Vorkenntnisse nötig!</p>
        </section>

        <section class="guide-section">
            <h2 data-translate-key="step1_title">Schritt 1: Was du brauchst (Hardware)</h2>
            <div class="content-grid">
                <div class="text-content">
                    <ul data-translate-key="step1_list">
                        <li>Ein ESP32 oder ESP8266 Board</li>
                        <li>Ein USB-Kabel (Micro-USB oder USB-C)</li>
                        <li>Ein Steckbrett (Breadboard)</li>
                        <li>Einige Jumper-Kabel</li>
                        <li>Eine LED und ein 220Ω Widerstand</li>
                    </ul>
                </div>
                <div class="sketch-container">
                    <svg viewBox="0 0 250 150">
                        <rect x="10" y="10" width="100" height="50" rx="5" />
                        <rect x="45" y="12" width="20" height="8" fill="var(--svg-stroke)" />
                        <rect x="15" y="25" width="80" height="20" fill="#718096" />
                        <circle cx="20" cy="75" r="3" /> <circle cx="30" cy="75" r="3" />
                        <circle cx="20" cy="85" r="3" /> <circle cx="30" cy="85" r="3" />
                        <text x="5" y="100" class="label">ESP32</text>

                        <rect x="130" y="10" width="110" height="70" rx="3" />
                        <path d="M135 20h100 M135 30h100 M135 50h100 M135 60h100" stroke-width="1" stroke-dasharray="2 2" />
                        <text x="140" y="100" class="label">Breadboard</text>
                        
                        <g transform="translate(10, 110)">
                            <path d="M0 20 l10 0 l2.5 -5 l5 10 l5 -10 l5 10 l5-5 l2.5 0" stroke-width="2"/>
                            <path d="M40 20 l10 0" stroke-width="2"/>
                            <text x="0" y="35" class="label">Resistor</text>
                            <circle cx="60" cy="12" r="8" fill="rgba(239, 68, 68, 0.5)"/>
                            <path d="M55 20 l10 0 M57 20 l-3 8 M63 20 l3 8" stroke-width="2"/>
                            <text x="55" y="35" class="label">LED</text>
                        </g>
                    </svg>
                </div>
            </div>
        </section>

        <section class="guide-section">
            <h2 data-translate-key="step2_title">Schritt 2: Software einrichten</h2>
            <div class="content-grid">
                 <div class="sketch-container">
                    <svg viewBox="0 0 200 150">
                        <path d="M20 30 H180 V120 H20 Z" fill="var(--card-bg)" stroke-width="2" />
                        <path d="M20 45 H180" stroke-width="1.5" />
                        <circle cx="30" cy="37.5" r="4" fill="#ef4444" stroke="none" />
                        <circle cx="45" cy="37.5" r="4" fill="#f59e0b" stroke="none" />
                        <circle cx="60" cy="37.5" r="4" fill="#10b981" stroke="none" />
                        <text x="30" y="70" class="label" font-size="10">1. Install Arduino IDE</text>
                        <text x="30" y="90" class="label" font-size="10">2. Add ESP Board URL</text>
                        <text x="30" y="110" class="label" font-size="10">3. Select Board & Port</text>
                    </svg>
                </div>
                <div class="text-content">
                    <p data-translate-key="step2_desc">Wir verwenden die Arduino IDE, weil sie einfach für Anfänger ist. Folge diesen Schritten:</p>
                    <ol data-translate-key="step2_list" style="padding-left: 1.5rem; margin-top: 1rem;">
                        <li>Lade und installiere die <a href="https://www.arduino.cc/en/software" target="_blank">Arduino IDE</a>.</li>
                        <li>Füge die ESP32/ESP8266 Board-URL in den Voreinstellungen hinzu.</li>
                        <li>Installiere die Boards über den "Boardverwalter".</li>
                        <li>Wähle dein Board und den richtigen COM-Port im "Werkzeuge"-Menü aus.</li>
                    </ol>
                </div>
            </div>
        </section>

        <section class="guide-section">
            <h2 data-translate-key="step3_title">Schritt 3: Dein erstes Programm (LED-Blinken)</h2>
            <div class="content-grid">
                <div class="text-content">
                    <p data-translate-key="step3_desc">Lass uns eine LED blinken. Dies ist das "Hallo Welt" der Mikrocontroller. Verbinde die Komponenten wie in der Skizze gezeigt.</p>
                    <pre><code data-translate-key="step3_code">#define LED_PIN 2

void setup() {
  pinMode(LED_PIN, OUTPUT);
}

void loop() {
  digitalWrite(LED_PIN, HIGH);
  delay(1000);
  digitalWrite(LED_PIN, LOW);
  delay(1000);
}</code></pre>
                </div>
                <div class="sketch-container">
                    <svg viewBox="0 0 250 180">
                        <rect x="75" y="10" width="100" height="40" rx="3" />
                        <text x="85" y="30" class="label">ESP32 Board</text>
                        <rect x="75" y="10" width="8" height="8" fill="var(--svg-stroke)"/>
                        <text x="60" y="18" class="label" font-size="10">GND</text>
                        <rect x="167" y="10" width="8" height="8" fill="var(--svg-stroke)"/>
                        <text x="177" y="18" class="label" font-size="10">D2</text>
                        
                        <rect x="10" y="70" width="230" height="50" rx="3" />
                        <text x="90" y="95" class="label">Breadboard</text>

                        <path d="M79, 18 v47 h100" stroke-width="2" />
                        <path d="M171, 18 v47 h-60" stroke-width="2" />
                        
                        <g transform="translate(115, 65)">
                            <path d="M0 0 l10 0 l2.5 -5 l5 10 l5 -10 l5 10 l5-5 l2.5 0" stroke-width="2"/>
                            <text x="5" y="22" class="label" font-size="10">220Ω</text>
                        </g>

                        <g transform="translate(90, 65)">
                             <circle cx="0" cy="-8" r="8" fill="rgba(239, 68, 68, 0.5)"/>
                             <path d="M-5 0 l10 0 M-3 0 l-3 8 M3 0 l3 8" stroke-width="2"/>
                             <text x="-5" y="22" class="label" font-size="10">LED</text>
                        </g>
                    </svg>
                </div>
            </div>
        </section>

         <section class="guide-section">
            <h2 data-translate-key="step4_title">Schritt 4: Mit dem WLAN verbinden</h2>
            <div class="content-grid">
                <div class="sketch-container">
                    <svg viewBox="0 0 200 150">
                         <rect x="10" y="50" width="60" height="30" rx="3" />
                         <text x="20" y="70" class="label">ESP32</text>
                         <path d="M75 65 l20 0" stroke-dasharray="3 3" />
                         <path d="M110 50 C 130 40, 130 90, 110 80" stroke-width="2" fill="none" />
                         <path d="M115 40 C 145 25, 145 105, 115 90" stroke-width="2" fill="none" />
                         <path d="M120 30 C 160 10, 160 120, 120 100" stroke-width="2" fill="none" />
                         <circle cx="155" cy="110" r="12" />
                         <path d="M155 108 v-10 l5 5 m-5 -5 l-5 5" fill="none" stroke-width="1.5" />
                         <text x="142" y="135" class="label">Router</text>
                    </svg>
                </div>
                <div class="text-content">
                    <p data-translate-key="step4_desc">Das "Smarte" an Smart Home ist die Internetverbindung. Hier ist der Code, um deinen ESP mit dem WLAN zu verbinden.</p>
                    <pre><code data-translate-key="step4_code">#include &lt;WiFi.h&gt;

const char* ssid = "DEIN_WLAN_NAME";
const char* password = "DEIN_PASSWORT";

void setup() {
  Serial.begin(115200);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("Verbunden!");
}

void loop() {
  // Dein Code hier
}</code></pre>
                </div>
            </div>
        </section>
        
        <section class="guide-section">
            <h2 data-translate-key="step5_title">Nächste Schritte</h2>
             <div class="text-content" style="width: 100%;">
                <p data-translate-key="step5_desc">Jetzt, da du die Grundlagen kennst, kannst du echte Projekte bauen! Hier sind einige Ideen:</p>
                <ul data-translate-key="step5_list" style="margin-top: 1rem;">
                    <li>Baue einen Temperatursensor mit einem DHT11/DHT22.</li>
                    <li>Steuere Relais, um Lampen oder Geräte ein- und auszuschalten.</li>
                    <li>Sende Daten an eine Plattform wie MQTT, Blynk oder Home Assistant.</li>
                    <li>Baue eine Wetterstation mit verschiedenen Sensoren.</li>
                </ul>
            </div>
        </section>


        <footer>
            <p data-translate-key="footer_text">Erstellt mit ♥ für DIY-Enthusiasten.</p>
        </footer>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const translations = {
                de: {
                    logo_text: "DIY Smart Home",
                    main_title: "Smart-Home-Lösungen selbst bauen",
                    main_subtitle: "Ein einfacher Guide, um mit ESP32 und ESP8266 deine eigenen smarten Geräte zu erstellen. Keine Vorkenntnisse nötig!",
                    step1_title: "Schritt 1: Was du brauchst (Hardware)",
                    step1_list: `<li>Ein ESP32 oder ESP8266 Board</li>
                                 <li>Ein USB-Kabel (Micro-USB oder USB-C)</li>
                                 <li>Ein Steckbrett (Breadboard)</li>
                                 <li>Einige Jumper-Kabel</li>
                                 <li>Eine LED und ein 220Ω Widerstand</li>`,
                    step2_title: "Schritt 2: Software einrichten",
                    step2_desc: "Wir verwenden die Arduino IDE, weil sie einfach für Anfänger ist. Folge diesen Schritten:",
                    step2_list: `<li>Lade und installiere die <a href="https://www.arduino.cc/en/software" target="_blank">Arduino IDE</a>.</li>
                                 <li>Füge die ESP32/ESP8266 Board-URL in den Voreinstellungen hinzu.</li>
                                 <li>Installiere die Boards über den "Boardverwalter".</li>
                                 <li>Wähle dein Board und den richtigen COM-Port im "Werkzeuge"-Menü aus.</li>`,
                    step3_title: "Schritt 3: Dein erstes Programm (LED-Blinken)",
                    step3_desc: "Lass uns eine LED blinken. Dies ist das \"Hallo Welt\" der Mikrocontroller. Verbinde die Komponenten wie in der Skizze gezeigt.",
                    step3_code: `#define LED_PIN 2 // Pin für die LED

void setup() {
  // Initialisiere den Pin als Ausgang
  pinMode(LED_PIN, OUTPUT);
}

void loop() {
  digitalWrite(LED_PIN, HIGH);   // LED an
  delay(1000);                   // Warte eine Sekunde
  digitalWrite(LED_PIN, LOW);    // LED aus
  delay(1000);                   // Warte eine Sekunde
}`,
                    step4_title: "Schritt 4: Mit dem WLAN verbinden",
                    step4_desc: "Das \"Smarte\" an Smart Home ist die Internetverbindung. Hier ist der Code, um deinen ESP mit dem WLAN zu verbinden.",
                    step4_code: `#include &lt;WiFi.h&gt;

const char* ssid = "DEIN_WLAN_NAME";
const char* password = "DEIN_PASSWORT";

void setup() {
  Serial.begin(115200);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("Verbunden!");
}

void loop() {
  // Dein Code läuft hier
}`,
                    step5_title: "Nächste Schritte",
                    step5_desc: "Jetzt, da du die Grundlagen kennst, kannst du echte Projekte bauen! Hier sind einige Ideen:",
                    step5_list: `<li>Baue einen Temperatursensor mit einem DHT11/DHT22.</li>
                                 <li>Steuere Relais, um Lampen oder Geräte ein- und auszuschalten.</li>
                                 <li>Sende Daten an eine Plattform wie MQTT, Blynk oder Home Assistant.</li>
                                 <li>Baue eine Wetterstation mit verschiedenen Sensoren.</li>`,
                    footer_text: "Erstellt mit ♥ für DIY-Enthusiasten."
                },
                en: {
                    logo_text: "DIY Smart Home",
                    main_title: "Build Your Own Smart Home Solutions",
                    main_subtitle: "A simple guide to creating your own smart devices with ESP32 and ESP8266. No prior experience needed!",
                    step1_title: "Step 1: What You Need (Hardware)",
                    step1_list: `<li>An ESP32 or ESP8266 board</li>
                                 <li>A USB cable (Micro-USB or USB-C)</li>
                                 <li>A breadboard</li>
                                 <li>Some jumper wires</li>
                                 <li>An LED and a 220Ω resistor</li>`,
                    step2_title: "Step 2: Setting Up the Software",
                    step2_desc: "We'll use the Arduino IDE because it's beginner-friendly. Follow these steps:",
                    step2_list: `<li>Download and install the <a href="https://www.arduino.cc/en/software" target="_blank">Arduino IDE</a>.</li>
                                 <li>Add the ESP32/ESP8266 board URL in the preferences.</li>
                                 <li>Install the boards via the "Boards Manager".</li>
                                 <li>Select your board and the correct COM port in the "Tools" menu.</li>`,
                    step3_title: "Step 3: Your First Program (Blink an LED)",
                    step3_desc: "Let's make an LED blink. This is the \"Hello, World\" of microcontrollers. Connect the components as shown in the sketch.",
                    step3_code: `#define LED_PIN 2 // Pin for the LED

void setup() {
  // Initialize the pin as an output
  pinMode(LED_PIN, OUTPUT);
}

void loop() {
  digitalWrite(LED_PIN, HIGH);   // Turn the LED on
  delay(1000);                   // Wait for a second
  digitalWrite(LED_PIN, LOW);    // Turn the LED off
  delay(1000);                   // Wait for a second
}`,
                    step4_title: "Step 4: Connecting to Wi-Fi",
                    step4_desc: "The \"smart\" in smart home is the internet connection. Here's the code to connect your ESP to Wi-Fi.",
                    step4_code: `#include &lt;WiFi.h&gt;

const char* ssid = "YOUR_WIFI_NAME";
const char* password = "YOUR_PASSWORD";

void setup() {
  Serial.begin(115200);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("Connected!");
}

void loop() {
  // Your code runs here
}`,
                    step5_title: "Next Steps",
                    step5_desc: "Now that you know the basics, you can build real projects! Here are some ideas:",
                    step5_list: `<li>Build a temperature sensor with a DHT11/DHT22.</li>
                                 <li>Control relays to switch lights or appliances on and off.</li>
                                 <li>Send data to a platform like MQTT, Blynk, or Home Assistant.</li>
                                 <li>Build a weather station with various sensors.</li>`,
                    footer_text: "Created with ♥ for DIY enthusiasts."
                },
                es: {
                    logo_text: "Hogar Inteligente DIY",
                    main_title: "Construye tus Propias Soluciones de Hogar Inteligente",
                    main_subtitle: "Una guía sencilla para crear tus propios dispositivos inteligentes con ESP32 y ESP8266. ¡No se necesita experiencia previa!",
                    step1_title: "Paso 1: Lo que necesitas (Hardware)",
                    step1_list: `<li>Una placa ESP32 o ESP8266</li>
                                 <li>Un cable USB (Micro-USB o USB-C)</li>
                                 <li>Una protoboard (placa de pruebas)</li>
                                 <li>Algunos cables de puente (jumpers)</li>
                                 <li>Un LED y una resistencia de 220Ω</li>`,
                    step2_title: "Paso 2: Configurar el Software",
                    step2_desc: "Usaremos el IDE de Arduino porque es fácil para principiantes. Sigue estos pasos:",
                    step2_list: `<li>Descarga e instala el <a href="https://www.arduino.cc/en/software" target="_blank">IDE de Arduino</a>.</li>
                                 <li>Añade la URL de las placas ESP32/ESP8266 en las preferencias.</li>
                                 <li>Instala las placas a través del "Gestor de Tarjetas".</li>
                                 <li>Selecciona tu placa y el puerto COM correcto en el menú "Herramientas".</li>`,
                    step3_title: "Paso 3: Tu primer programa (Parpadear un LED)",
                    step3_desc: "Vamos a hacer que un LED parpadee. Este es el \"Hola, Mundo\" de los microcontroladores. Conecta los componentes como se muestra en el esquema.",
                    step3_code: `#define LED_PIN 2 // Pin para el LED

void setup() {
  // Inicializa el pin como una salida
  pinMode(LED_PIN, OUTPUT);
}

void loop() {
  digitalWrite(LED_PIN, HIGH);   // Enciende el LED
  delay(1000);                   // Espera un segundo
  digitalWrite(LED_PIN, LOW);    // Apaga el LED
  delay(1000);                   // Espera un segundo
}`,
                    step4_title: "Paso 4: Conectarse al Wi-Fi",
                    step4_desc: "Lo \"inteligente\" de un hogar inteligente es la conexión a internet. Aquí está el código para conectar tu ESP al Wi-Fi.",
                    step4_code: `#include &lt;WiFi.h&gt;

const char* ssid = "TU_NOMBRE_WIFI";
const char* password = "TU_CONTRASEÑA";

void setup() {
  Serial.begin(115200);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("¡Conectado!");
}

void loop() {
  // Tu código se ejecuta aquí
}`,
                    step5_title: "Próximos Pasos",
                    step5_desc: "Ahora que conoces lo básico, ¡puedes construir proyectos reales! Aquí tienes algunas ideas:",
                    step5_list: `<li>Construye un sensor de temperatura con un DHT11/DHT22.</li>
                                 <li>Controla relés para encender y apagar luces o electrodomésticos.</li>
                                 <li>Envía datos a una plataforma como MQTT, Blynk o Home Assistant.</li>
                                 <li>Construye una estación meteorológica con varios sensores.</li>`,
                    footer_text: "Creado con ♥ para entusiastas del DIY."
                }
            };

            const langButtons = document.querySelectorAll('.lang-switcher button');
            const translatableElements = document.querySelectorAll('[data-translate-key]');

            const setLanguage = (lang) => {
                if (!translations[lang]) return;

                translatableElements.forEach(el => {
                    const key = el.getAttribute('data-translate-key');
                    if (translations[lang][key]) {
                        el.innerHTML = translations[lang][key];
                    }
                });

                document.documentElement.lang = lang;
                localStorage.setItem('language', lang);
                
                langButtons.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.lang === lang);
                });
            };

            langButtons.forEach(button => {
                button.addEventListener('click', () => {
                    setLanguage(button.dataset.lang);
                });
            });

            const getInitialLanguage = () => {
                const savedLang = localStorage.getItem('language');
                if (savedLang && translations[savedLang]) {
                    return savedLang;
                }
                const browserLang = navigator.language.split('-')[0];
                return translations[browserLang] ? browserLang : 'en';
            };

            setLanguage(getInitialLanguage());

            const menuToggle = document.querySelector('.menu-toggle');
            const body = document.getElementById('body');
            
            menuToggle.addEventListener('click', () => {
                body.classList.toggle('nav-active');
            });

        });
    </script>
</body>
</html>